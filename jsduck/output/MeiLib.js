Ext.data.JsonP.MeiLib({"tagname":"class","name":"MeiLib","autodetected":{},"files":[{"filename":"meilib.js","href":"meilib.html#MeiLib"},{"filename":"meilib.js","href":"meilib.html#MeiLib"},{"filename":"meilib.js","href":"meilib.html#MeiLib"}],"singleton":true,"members":[{"name":"SliceMEI","tagname":"method","owner":"MeiLib","id":"method-SliceMEI","meta":{}},{"name":"XMLID","tagname":"method","owner":"MeiLib","id":"method-XMLID","meta":{}},{"name":"beats2dur","tagname":"method","owner":"MeiLib","id":"method-beats2dur","meta":{}},{"name":"createPseudoUUID","tagname":"method","owner":"MeiLib","id":"method-createPseudoUUID","meta":{}},{"name":"dotsMult","tagname":"method","owner":"MeiLib","id":"method-dotsMult","meta":{}},{"name":"dur2beats","tagname":"method","owner":"MeiLib","id":"method-dur2beats","meta":{}},{"name":"durationOf","tagname":"method","owner":"MeiLib","id":"method-durationOf","meta":{}},{"name":"id2tstamp","tagname":"method","owner":"MeiLib","id":"method-id2tstamp","meta":{}},{"name":"sumUpUntil","tagname":"method","owner":"MeiLib","id":"method-sumUpUntil","meta":{}},{"name":"tstamp2id","tagname":"method","owner":"MeiLib","id":"method-tstamp2id","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-MeiLib","extends":null,"private":null,"mixins":[],"requires":[],"uses":[],"component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"parentMixins":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/meilib.html#MeiLib' target='_blank'>meilib.js</a></div><div class='dependency'><a href='source/meilib.html#MeiLib' target='_blank'>meilib.js</a></div><div class='dependency'><a href='source/meilib.html#MeiLib' target='_blank'>meilib.js</a></div></pre><div class='doc-contents'><p>MeiLib - General purpose JavaScript functions for processing MEI documents.</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-SliceMEI' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-SliceMEI' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-SliceMEI' class='name expandable'>SliceMEI</a>( <span class='pre'>params</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns a slice of the MEI. ...</div><div class='long'><p>Returns a slice of the MEI. The slice is specified by the number of the\nstarting and ending measures.</p>\n\n<p>About the <code>staves</code> parameter: it specifies a list of staff\nnumbers. If it is defined, only the listed staves will be kept in the\nresulting slice. The following elements will be removed from: 1. <b>staffDef</b>\nelements (@staff value is matched against the specified list) 2. <b>staff</b>\nelements (@n value is matched against the specified list) 3. any other child\nelement of measures that has</p>\n\n<p>@staff specified AND it is not listed.</p>\n\n<p>Note that <b>staff</b> elements without\n@n will be removed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>like { start_n:NUMBER, end_n:NUMBER, noKey:BOOLEAN,\n           noClef:BOOLEAN, noMeter:BOOLEAN, noConnectors, staves:[NUMBER] },\n           where <code>noKey</code>, <code>noClef</code> and\n           <code>noMeter</code> and <code>noConnectors</code> are\n           optional. taves is optional. If staves is set, it is an array of\n           staff numbers. Only the staves specified in the list will be\n           included in the resulting MEI.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>XML DOM object</p>\n</div></li></ul></div></div></div><div id='method-XMLID' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-XMLID' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-XMLID' class='name expandable'>XMLID</a>( <span class='pre'>elem</span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>returns the xml:id attribute of an element; if there is none, the function\ncreated a pseudo id, adds it to the elemen...</div><div class='long'><p>returns the xml:id attribute of an element; if there is none, the function\ncreated a pseudo id, adds it to the element and returns that id.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>elem</span> : XMLElement<div class='sub-desc'><p>the element to process</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>the xml:id of the element</p>\n</div></li></ul></div></div></div><div id='method-beats2dur' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-beats2dur' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-beats2dur' class='name expandable'>beats2dur</a>( <span class='pre'>beats, meter</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Convert relative duration (nuber of beats) into absolute duration (e.g. ...</div><div class='long'><p>Convert relative duration (nuber of beats) into absolute duration (e.g.\nquarter note, eighth note, etc) according to time signature.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>beats</span> : Object<div class='sub-desc'><p>{Number} duration in beats</p>\n</div></li><li><span class='pre'>meter</span> : Object<div class='sub-desc'><p>time signature object {\ncount, unit }</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>reciprocal value of absolute duration (e.g. 4\n-> quarter note, 8 -> eighth note, etc.)</p>\n</div></li></ul></div></div></div><div id='method-createPseudoUUID' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-createPseudoUUID' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-createPseudoUUID' class='name expandable'>createPseudoUUID</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n</div></div></div><div id='method-dotsMult' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-dotsMult' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-dotsMult' class='name expandable'>dotsMult</a>( <span class='pre'>node</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Converts the dots attribute value into a duration multiplier. ...</div><div class='long'><p>Converts the <b>dots</b> attribute value into a duration multiplier.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>node</span> : Object<div class='sub-desc'><p>XML DOM object containing a node which may have <code>dots</code>\nattribute</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'><p>The result is 1 if no <code>dots</code> attribute is present.\nFor <code>dots=\"1\"</code> the result is 1.5, for <code>dots=\"2\"</code> the\nresult is 1.75, etc.</p>\n</div></li></ul></div></div></div><div id='method-dur2beats' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-dur2beats' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-dur2beats' class='name expandable'>dur2beats</a>( <span class='pre'>dur, meter</span> ) : Number<span class=\"signature\"></span></div><div class='description'><div class='short'>Convert absolute duration into relative duration (nuber of beats) according\nto time signature. ...</div><div class='long'><p>Convert absolute duration into relative duration (nuber of beats) according\nto time signature.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>dur</span> : Object<div class='sub-desc'><p>{Number} reciprocal value of absolute duration (e.g. 4->quarter\nnote, 8->eighth note, etc.)</p>\n</div></li><li><span class='pre'>meter</span> : Object<div class='sub-desc'><p>the time signature object { count,\nunit }</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Number</span><div class='sub-desc'>\n</div></li></ul></div></div></div><div id='method-durationOf' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-durationOf' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-durationOf' class='name expandable'>durationOf</a>( <span class='pre'>evnt, meter</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Calculate the duration of an event (number of beats) according to the given\nmeter. ...</div><div class='long'><p>Calculate the duration of an event (number of beats) according to the given\nmeter.</p>\n\n<p>Event refers to musical event such as notes, rests, chords. The MEI element\n<b>space</b> is also considered an event.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>evnt</span> : Object<div class='sub-desc'><p>an XML DOM object</p>\n</div></li><li><span class='pre'>meter</span> : Object<div class='sub-desc'><p>the time signature object { count, unit }</p>\n</div></li></ul></div></div></div><div id='method-id2tstamp' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-id2tstamp' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-id2tstamp' class='name expandable'>id2tstamp</a>( <span class='pre'>eventid, context</span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Calculates a timestamp value for an event in a given context. ...</div><div class='long'><p>Calculates a timestamp value for an event in a given context. (Event refers\nto musical events such as notes, rests and chords).</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>eventid</span> : Object<div class='sub-desc'><p>{String} the xml:id of the event</p>\n</div></li><li><span class='pre'>context</span> : Object<div class='sub-desc'><p>{Array} of\ncontextual objects {layer, meter}. Time signature is mandatory for the first\none, but optional for the rest. All layers belong to a single logical layer.\nThey are the layer elements from some consequtive measures.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>the MEI timestamp value (expressed in beats relative to the\nmeter of the\nmeasure containing the event) of all events that happened before the given\nevent in the given context. If the event is not in the first measure (layer)\nthe timestamp value contains a 'measure part', that is for example 2m+2 if\nthe event is at the second beat in the 3rd measure.</p>\n</div></li></ul></div></div></div><div id='method-sumUpUntil' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-sumUpUntil' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-sumUpUntil' class='name expandable'>sumUpUntil</a>( <span class='pre'>eventid, layer, meter</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>For a given event (such as note, rest chord or space) calculates the combined\nlegth of preceding events, or the combi...</div><div class='long'><p>For a given event (such as note, rest chord or space) calculates the combined\nlegth of preceding events, or the combined lenght of all events if the given\nevent isn't present.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>eventid</span> : String<div class='sub-desc'><p>the value of the xml:id attribute of the event</p>\n</div></li><li><span class='pre'>layer</span> : Object<div class='sub-desc'><p>an XML DOM object containing the MEI <b>Layer</b> element</p>\n</div></li><li><span class='pre'>meter</span> : Object<div class='sub-desc'><p>the time signature object { count, unit }</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>an object { beats:number, found:boolean }. 1. 'found' is true and 'beats' is the total duration of the events that happened before the event 'eventid' within 'layer', or 2. 'found' is false and 'beats is the total duration of the events in 'layer'.</p>\n</div></li></ul></div></div></div><div id='method-tstamp2id' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='MeiLib'>MeiLib</span><br/><a href='source/meilib.html#MeiLib-method-tstamp2id' target='_blank' class='view-source'>view source</a></div><a href='#!/api/MeiLib-method-tstamp2id' class='name expandable'>tstamp2id</a>( <span class='pre'>tstamp, layer, meter</span> ) : String<span class=\"signature\"></span></div><div class='description'><div class='short'>Find the event with the minimum distance from of the given timestamp. ...</div><div class='long'><p>Find the event with the minimum distance from of the given timestamp.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>tstamp</span> : String<div class='sub-desc'><p>the timestamp to match against events in the given\ncontext. Local timestamp only (without measure part).</p>\n</div></li><li><span class='pre'>layer</span> : Object<div class='sub-desc'><p>an XML DOM object, contains all events in the given\nmeasure.</p>\n</div></li><li><span class='pre'>meter</span> : Object<div class='sub-desc'><p>the effective time signature object { count, unit } in\nthe measure containing layer.</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>String</span><div class='sub-desc'><p>the xml:id of the closest element, or\nundefined if <b>layer</b> contains no events.</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});